<!-- Image Filter and Format Converter Web Application
 Class: CST 205
 Abstract: This is the layout file for the result page of the web application.
          User will see the filtered image on this page, with options to download in different formats.
 Authors: Jasmeen Hothi, Josue Nava, Ciaran Moynihan
 Date: 5/14/2025 -->
<!DOCTYPE html>

<html lang="en">

  <head>

      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <title>Editor</title>

      {{ bootstrap.load_css() }}
  </head>
  <body>
      <nav class="navbar navbar-expand-lg ">
          <div class="container-fluid">
            <a class="navbar-brand"><h1>Online Image Editor & Converter</h1></a>
            <ul class="nav nav-underline">
              <li class="nav-item ">
                <a class="nav-link text-dark" href="/home"> Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/edit">Editor</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link text-dark" href="/profile"> Profile</a>
              </li>
                  <li class="nav-item ">
                    <a class="btn btn-primary" href = "/"> Log Out</a>
                  </li>
              </ul>
            </div>
          </div>
      </nav>

      <div class = "container mb-4"> 

          <div class="text-left">
              
              {% if filename %}

              <hr>

              <img src="{{ url_for('static', filename='uploads/' ~ filename) }}" alt="Uploaded Image" width="300">
              <br>
              <br>

              <a>Here is your image :D</a>

              <p>Download as:</p>
              <div class="d-flex gap-2">
                <form method="get" action="{{ url_for('download_image', filename=filename, file_type='png') }}">
                  <button type="submit" class="btn btn-success">PNG</button>
                </form>

                <form method="get" action="{{ url_for('download_image', filename=filename, file_type='jpg') }}">
                  <button type="submit" class="btn btn-success">JPG</button>
                </form>

                <form method="get" action="{{ url_for('download_image', filename=filename, file_type='webp') }}">
                  <button type="submit" class="btn btn-success">WEBP</button>
                </form>
              </div>



              {% endif %}

          </div>

      </div>

  </body>

</html>
